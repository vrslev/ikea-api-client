from __future__ import annotations

from datetime import datetime, timedelta
from types import SimpleNamespace
from typing import Any

import pytest

from ikea_api.wrappers import types
from ikea_api.wrappers._parsers import translate
from ikea_api.wrappers._parsers.order_capture import (
    DELIVERY_TYPES,
    SERVICE_TYPES,
    get_date,
    get_price,
    get_service_provider,
    get_type,
    get_unavailable_items,
    main,
)


def test_get_date_no_value():
    assert get_date([]) == None  # type: ignore
    deliveries_with_item = [SimpleNamespace(selectedTimeWindow=None)]
    assert get_date(deliveries_with_item) == None  # type: ignore


def test_get_date_with_value_first():
    exp_datetime = datetime.now()
    deliveries = [
        SimpleNamespace(selectedTimeWindow=SimpleNamespace(fromDateTime=exp_datetime)),
        SimpleNamespace(
            selectedTimeWindow=SimpleNamespace(
                fromDateTime=exp_datetime + timedelta(days=1)
            )
        ),
    ]
    assert get_date(deliveries) == exp_datetime.date()  # type: ignore


def test_get_date_with_value_not_first():
    exp_datetime = datetime.now()
    deliveries = [
        SimpleNamespace(selectedTimeWindow=None),
        SimpleNamespace(selectedTimeWindow=SimpleNamespace(fromDateTime=exp_datetime)),
    ]
    assert get_date(deliveries) == exp_datetime.date()  # type: ignore


def test_get_type_no_service_type():
    exp_delivery_type = "HOME_DELIVERY"
    service = SimpleNamespace(fulfillmentMethodType=exp_delivery_type, servicetype=None)
    assert get_type(service) == translate(DELIVERY_TYPES, exp_delivery_type)  # type: ignore


def test_get_type_with_service_type():
    exp_delivery_type = "HOME_DELIVERY"
    exp_service_type = "CURBSIDE"
    service = SimpleNamespace(
        fulfillmentMethodType=exp_delivery_type, servicetype=exp_service_type
    )
    assert get_type(service) == (  # type: ignore
        translate(DELIVERY_TYPES, exp_delivery_type)
        + f" {translate(SERVICE_TYPES, exp_service_type)}"
    )


def test_get_price_no_value():
    service = SimpleNamespace(servicePrice=None)
    assert get_price(service) == 0  # type: ignore


def test_get_price_with_value():
    service = SimpleNamespace(servicePrice=SimpleNamespace(amount=100))
    assert get_price(service) == 100  # type: ignore


def test_get_service_provider_no_value_no_deliveries():
    service = SimpleNamespace(deliveries=None)
    assert get_service_provider(service) is None  # type: ignore


def test_get_service_provider_no_value_no_pickup_points():
    service = SimpleNamespace(deliveries=[SimpleNamespace(pickUpPoints=None)])
    assert get_service_provider(service) is None  # type: ignore


@pytest.mark.parametrize("v", ("BUSINESSLINES and some other value", "BUSINESSLINES"))
def test_get_service_provider_with_value_match(v: str):
    service = SimpleNamespace(
        deliveries=[SimpleNamespace(pickUpPoints=[SimpleNamespace(identifier=v)])]
    )
    assert get_service_provider(service) == "Деловые линии"  # type: ignore


def test_get_service_provider_with_value_no_match():
    exp_identifier = "USINESSLIN"
    service = SimpleNamespace(
        deliveries=[
            SimpleNamespace(pickUpPoints=[SimpleNamespace(identifier=exp_identifier)])
        ]
    )
    assert get_service_provider(service) == exp_identifier  # type: ignore


@pytest.mark.parametrize("v", (None, []))
def test_get_unavailable_items_no_value(v: list[Any] | None):
    assert get_unavailable_items(v) == []


def test_get_unavailable_items_with_value():
    items = [
        SimpleNamespace(itemNo="11111111", availableQuantity=5),
        SimpleNamespace(itemNo="22222222", availableQuantity=3),
    ]
    exp_res = [
        types.UnavailableItemDict(item_code="11111111", available_qty=5),
        types.UnavailableItemDict(item_code="22222222", available_qty=3),
    ]
    assert get_unavailable_items(items) == exp_res  # type: ignore


test_data = [
    {
        "id": "f9b97236-81c3-48cf-a139-6483e8e5768a",
        "solutionId": "HD~5~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "HOME_DELIVERY",
        "servicePrice": {
            "amount": "1999",
            "taxDetails": [
                {
                    "taxableAmount": "1665.83",
                    "taxPercentage": "2E+1",
                    "taxCode": "2",
                    "taxAmount": "333.17",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 1999,
            "exclTax": 1665.83,
            "tax": 333.17,
        },
        "price": {
            "type": "SHIPPING_PRICE",
            "inclTax": 1999,
            "exclTax": 1665.83,
            "tax": 333.17,
            "regularPrice": {
                "inclTax": 1999,
                "exclTax": 1665.83,
                "tax": 333.17,
                "taxList": [
                    {
                        "taxJurisdiction": {
                            "taxJurisdictionType": "CTY",
                            "taxJurisdictionCode": "RU",
                        },
                        "type": "VAT",
                        "code": "2",
                        "taxPercentage": 20.0,
                        "taxAmount": 333.17,
                        "taxableAmount": 1665.83,
                    }
                ],
                "discountList": None,
                "discountSummary": None,
                "perItemPrice": None,
                "perItemSalePrice": None,
                "taxSummaryList": None,
            },
            "familyPrice": None,
            "taxList": [
                {
                    "taxJurisdiction": {
                        "taxJurisdictionType": "CTY",
                        "taxJurisdictionCode": "RU",
                    },
                    "type": "VAT",
                    "code": "2",
                    "taxPercentage": 20.0,
                    "taxAmount": 333.17,
                    "taxableAmount": 1665.83,
                }
            ],
            "currencyCode": "RUB",
            "discountList": None,
            "rollUpPriceType": "REGULAR",
            "taxSummaryList": None,
            "discountSummary": None,
            "priceExclSavings": None,
            "perItemSalePrice": None,
            "perItemPrice": None,
        },
        "priceOverrideReference": 1999,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.670Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "8dac35be-7271-41e9-beab-0e1ff152e7d2",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "1999",
                    "taxDetails": [
                        {
                            "taxableAmount": "1665.83",
                            "taxPercentage": "2E+1",
                            "taxCode": "2",
                            "taxAmount": "333.17",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 1999,
                    "exclTax": 1665.83,
                    "tax": 333.17,
                },
                "price": {
                    "type": "SHIPPING_PRICE",
                    "inclTax": 1999,
                    "exclTax": 1665.83,
                    "tax": 333.17,
                    "regularPrice": {
                        "inclTax": 1999,
                        "exclTax": 1665.83,
                        "tax": 333.17,
                        "taxList": [
                            {
                                "taxJurisdiction": {
                                    "taxJurisdictionType": "CTY",
                                    "taxJurisdictionCode": "RU",
                                },
                                "type": "VAT",
                                "code": "2",
                                "taxPercentage": 20.0,
                                "taxAmount": 333.17,
                                "taxableAmount": 1665.83,
                            }
                        ],
                        "discountList": None,
                        "discountSummary": None,
                        "perItemPrice": None,
                        "perItemSalePrice": None,
                        "taxSummaryList": None,
                    },
                    "familyPrice": None,
                    "taxList": [
                        {
                            "taxJurisdiction": {
                                "taxJurisdictionType": "CTY",
                                "taxJurisdictionCode": "RU",
                            },
                            "type": "VAT",
                            "code": "2",
                            "taxPercentage": 20.0,
                            "taxAmount": 333.17,
                            "taxableAmount": 1665.83,
                        }
                    ],
                    "currencyCode": "RUB",
                    "discountList": None,
                    "rollUpPriceType": "REGULAR",
                    "taxSummaryList": None,
                    "discountSummary": None,
                    "priceExclSavings": None,
                    "perItemSalePrice": None,
                    "perItemPrice": None,
                },
                "priceOverrideReference": 1999,
                "serviceItemId": "SGR40000606",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "HD~~~2",
                "timeWindows": [
                    {
                        "id": "bb2de434-bf2f-4b76-a91c-10b9013a5c53",
                        "fromDateTime": "2021-11-20T20:00:00.000",
                        "toDateTime": "2021-11-20T23:59:00.000",
                        "resourcePoolId": "Caat+B4ISkWsxQ+ZAOgi1g==",
                        "node": "LSC.2086",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-20T20:00:00",
                        "endTime": "2021-11-20T23:59:00",
                        "slotAttributeGroup": "HD~5~STANDARD~~~HD~~~2~2086",
                        "tspID": "32243",
                        "tspName": None,
                    },
                    {
                        "id": "6efc05f9-9a07-431c-a387-109b013c6122",
                        "fromDateTime": "2021-11-20T16:00:00.000",
                        "toDateTime": "2021-11-20T20:00:00.000",
                        "resourcePoolId": "X5vlWdWzBUGNEhCBAO8gMg==",
                        "node": "LSC.2084",
                        "selected": False,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-20T16:00:00",
                        "endTime": "2021-11-20T20:00:00",
                        "slotAttributeGroup": "HD~5~STANDARD~~~HD~~~2~2084",
                        "tspID": "50150",
                        "tspName": None,
                    },
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "bb2de434-bf2f-4b76-a91c-10b9013a5c53",
                    "fromDateTime": "2021-11-20T20:00:00.000",
                    "toDateTime": "2021-11-20T23:59:00.000",
                    "resourcePoolId": "Caat+B4ISkWsxQ+ZAOgi1g==",
                    "node": "LSC.2086",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-20T20:00:00",
                    "endTime": "2021-11-20T23:59:00",
                    "slotAttributeGroup": "HD~5~STANDARD~~~HD~~~2~2086",
                    "tspID": "32243",
                    "tspName": None,
                },
                "pickUpPoints": None,
                "selectedPickupPoint": None,
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": True,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "eab3a120-9098-46c7-9f4b-d34dd23802d0",
        "solutionId": "HD~5~CURBSIDE",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "HOME_DELIVERY",
        "servicePrice": {
            "amount": "1499",
            "taxDetails": [
                {
                    "taxableAmount": "1249.17",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "249.83",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 1499,
            "exclTax": 1249.17,
        },
        "price": None,
        "priceOverrideReference": 1499,
        "servicetype": "CURBSIDE",
        "expiryTime": "2021-11-17T17:30:43.670Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "ff1c1792-721c-45f4-8698-90eac9cc6f88",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "1499",
                    "taxDetails": [
                        {
                            "taxableAmount": "1249.17",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "249.83",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 1499,
                    "exclTax": 1249.17,
                },
                "price": None,
                "priceOverrideReference": 1499,
                "serviceItemId": "SGR90000897",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "HD~~~4",
                "timeWindows": [
                    {
                        "id": "bb2de434-bf2f-4b76-a91c-10b9013a5c53",
                        "fromDateTime": "2021-11-20T20:00:00.000",
                        "toDateTime": "2021-11-20T23:59:00.000",
                        "resourcePoolId": "Caat+B4ISkWsxQ+ZAOgi1g==",
                        "node": "LSC.2086",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-20T20:00:00",
                        "endTime": "2021-11-20T23:59:00",
                        "slotAttributeGroup": "HD~5~CURBSIDE~~~HD~~~4~2086",
                        "tspID": "32243",
                        "tspName": None,
                    },
                    {
                        "id": "6efc05f9-9a07-431c-a387-109b013c6122",
                        "fromDateTime": "2021-11-20T16:00:00.000",
                        "toDateTime": "2021-11-20T20:00:00.000",
                        "resourcePoolId": "X5vlWdWzBUGNEhCBAO8gMg==",
                        "node": "LSC.2084",
                        "selected": False,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-20T16:00:00",
                        "endTime": "2021-11-20T20:00:00",
                        "slotAttributeGroup": "HD~5~CURBSIDE~~~HD~~~4~2084",
                        "tspID": "50150",
                        "tspName": None,
                    },
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "bb2de434-bf2f-4b76-a91c-10b9013a5c53",
                    "fromDateTime": "2021-11-20T20:00:00.000",
                    "toDateTime": "2021-11-20T23:59:00.000",
                    "resourcePoolId": "Caat+B4ISkWsxQ+ZAOgi1g==",
                    "node": "LSC.2086",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-20T20:00:00",
                    "endTime": "2021-11-20T23:59:00",
                    "slotAttributeGroup": "HD~5~CURBSIDE~~~HD~~~4~2086",
                    "tspID": "32243",
                    "tspName": None,
                },
                "pickUpPoints": None,
                "selectedPickupPoint": None,
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "01855a43-40ad-4140-95a6-05a0b314fd37",
        "solutionId": "PUP~5~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "PUP",
        "servicePrice": {
            "amount": "899",
            "taxDetails": [
                {
                    "taxableAmount": "749.17",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "149.83",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 899,
            "exclTax": 749.17,
        },
        "price": None,
        "priceOverrideReference": 899,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.670Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "3f7c194b-5e6c-40c4-8d77-d81343fe3568",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "899",
                    "taxDetails": [
                        {
                            "taxableAmount": "749.17",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "149.83",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 899,
                    "exclTax": 749.17,
                },
                "price": None,
                "priceOverrideReference": 899,
                "serviceItemId": "SGR60000851",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "PUP~~~2",
                "timeWindows": [
                    {
                        "id": "28803c45-03e9-4ca2-af4c-10be013bcab6",
                        "fromDateTime": "2021-11-25T09:00:00.000",
                        "toDateTime": "2021-11-25T18:00:00.000",
                        "resourcePoolId": "G1SeyPffdUiW3hA8AV7uJQ==",
                        "node": "LSC.2130",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-25T09:00:00",
                        "endTime": "2021-11-25T18:00:00",
                        "slotAttributeGroup": "PUP~5~STANDARD~~~PUP~~~2~2130",
                        "tspID": "50021",
                        "tspName": None,
                    }
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "28803c45-03e9-4ca2-af4c-10be013bcab6",
                    "fromDateTime": "2021-11-25T09:00:00.000",
                    "toDateTime": "2021-11-25T18:00:00.000",
                    "resourcePoolId": "G1SeyPffdUiW3hA8AV7uJQ==",
                    "node": "LSC.2130",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-25T09:00:00",
                    "endTime": "2021-11-25T18:00:00",
                    "slotAttributeGroup": "PUP~5~STANDARD~~~PUP~~~2~2130",
                    "tspID": "50021",
                    "tspName": None,
                },
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "283@BUSINESSLINES_RU",
                        "zipCode": "109316",
                        "openingHoursThuTime": "09:00-20:00",
                        "distance": 7.42,
                        "city": "Москва",
                        "openingHoursSatTime": "",
                        "openingHoursWedTime": "09:00-20:00",
                        "openingHoursFriTime": "09:00-20:00",
                        "openingHoursTueTime": "09:00-20:00",
                        "name": "Терминал Деловые Линии - Москва Восток",
                        "addressLine1": "Волгоградский пр-кт, 42 корпус 23",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-20:00",
                        "addressLine3": "",
                        "id": "283",
                        "selected": True,
                        "state": "",
                        "addressLine4": "корпус 23",
                        "lsc": "LSC.2130",
                        "latitude": "55.7096977233887",
                        "longitude": "37.7078437805176",
                    },
                    {
                        "country": "RU",
                        "identifier": "18@BUSINESSLINES_RU",
                        "zipCode": "121471",
                        "openingHoursThuTime": "09:00-20:00",
                        "distance": 14.31,
                        "city": "Москва",
                        "openingHoursSatTime": "11:00-16:00",
                        "openingHoursWedTime": "09:00-20:00",
                        "openingHoursFriTime": "09:00-20:00",
                        "openingHoursTueTime": "09:00-20:00",
                        "name": "Терминал Деловые Линии - Москва Запад",
                        "addressLine1": "Рябиновая ул, 37 стр 1",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-20:00",
                        "addressLine3": "",
                        "id": "18",
                        "selected": False,
                        "state": "",
                        "addressLine4": "стр 1",
                        "lsc": "LSC.2175",
                        "latitude": "55.7041397094727",
                        "longitude": "37.4241752624512",
                    },
                    {
                        "country": "RU",
                        "identifier": "342@BUSINESSLINES_RU",
                        "zipCode": "143912",
                        "openingHoursThuTime": "09:00-20:00",
                        "distance": 14.88,
                        "city": "Балашиха",
                        "openingHoursSatTime": "11:00-16:00",
                        "openingHoursWedTime": "09:00-20:00",
                        "openingHoursFriTime": "09:00-20:00",
                        "openingHoursTueTime": "09:00-20:00",
                        "name": "Терминал Деловые Линии - Балашиха",
                        "addressLine1": "Западная коммунальная зона, Энтузиастов ш владение 1А",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-20:00",
                        "addressLine3": "",
                        "id": "342",
                        "selected": False,
                        "state": "",
                        "addressLine4": "владение 1А",
                        "lsc": "LSC.2175",
                        "latitude": "55.7849998474121",
                        "longitude": "37.8636093139648",
                    },
                    {
                        "country": "RU",
                        "identifier": "36@BUSINESSLINES_RU",
                        "zipCode": "127411",
                        "openingHoursThuTime": "00:00-23:59",
                        "distance": 16.54,
                        "city": "Москва",
                        "openingHoursSatTime": "00:00-16:00",
                        "openingHoursWedTime": "00:00-23:59",
                        "openingHoursFriTime": "00:00-23:59",
                        "openingHoursTueTime": "00:00-23:59",
                        "name": "Терминал Деловые Линии - Москва Север",
                        "addressLine1": "Лобненская ул 18",
                        "openingHoursSunTime": "11:00-16:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "08:00-00:00",
                        "addressLine3": "",
                        "id": "36",
                        "selected": False,
                        "state": "",
                        "addressLine4": "18",
                        "lsc": "LSC.2175",
                        "latitude": "55.8955574035645",
                        "longitude": "37.5212478637695",
                    },
                    {
                        "country": "RU",
                        "identifier": "297@BUSINESSLINES_RU",
                        "zipCode": "117545",
                        "openingHoursThuTime": "00:00-23:59",
                        "distance": 17.82,
                        "city": "Москва",
                        "openingHoursSatTime": "00:00-23:59",
                        "openingHoursWedTime": "00:00-23:59",
                        "openingHoursFriTime": "00:00-23:59",
                        "openingHoursTueTime": "00:00-23:59",
                        "name": "Терминал Деловые Линии - Москва Юг 2",
                        "addressLine1": "Подольских Курсантов ул., 17 к. 2",
                        "openingHoursSunTime": "00:00-23:59",
                        "addressLine2": "",
                        "openingHoursMonTime": "00:00-23:59",
                        "addressLine3": "",
                        "id": "297",
                        "selected": False,
                        "state": "",
                        "addressLine4": "к. 2",
                        "lsc": "LSC.2175",
                        "latitude": "55.5999717712402",
                        "longitude": "37.6446647644043",
                    },
                    {
                        "country": "RU",
                        "identifier": "82@BUSINESSLINES_RU",
                        "zipCode": "140053",
                        "openingHoursThuTime": "08:00-20:00",
                        "distance": 18.01,
                        "city": "Москва",
                        "openingHoursSatTime": "",
                        "openingHoursWedTime": "08:00-20:00",
                        "openingHoursFriTime": "08:00-20:00",
                        "openingHoursTueTime": "08:00-20:00",
                        "name": "Терминал Деловые Линии - Москва Капотня",
                        "addressLine1": "Московская обл, Люберецкий р-н, г. Котельники, Дзержинское ш 14",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "08:00-20:00",
                        "addressLine3": "",
                        "id": "82",
                        "selected": False,
                        "state": "",
                        "addressLine4": "14",
                        "lsc": "LSC.2130",
                        "latitude": "55.6463356018066",
                        "longitude": "37.8345680236816",
                    },
                    {
                        "country": "RU",
                        "identifier": "303@BUSINESSLINES_RU",
                        "zipCode": "141074",
                        "openingHoursThuTime": "09:00-18:00",
                        "distance": 18.91,
                        "city": "Мытищи",
                        "openingHoursSatTime": "",
                        "openingHoursWedTime": "09:00-18:00",
                        "openingHoursFriTime": "09:00-18:00",
                        "openingHoursTueTime": "09:00-18:00",
                        "name": "Терминал Деловые Линии - Мытищи",
                        "addressLine1": "г. Королев, ул. Пионерская, 2 (ориентир для навигаторов ул. Пионерская 4к125)",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-18:00",
                        "addressLine3": "",
                        "id": "303",
                        "selected": False,
                        "state": "",
                        "addressLine4": "4к125)",
                        "lsc": "LSC.2130",
                        "latitude": "55.9021224975586",
                        "longitude": "37.7960548400879",
                    },
                    {
                        "country": "RU",
                        "identifier": "328@BUSINESSLINES_RU",
                        "zipCode": "143442",
                        "openingHoursThuTime": "09:00-18:00",
                        "distance": 22.34,
                        "city": "Красногорск",
                        "openingHoursSatTime": "",
                        "openingHoursWedTime": "09:00-18:00",
                        "openingHoursFriTime": "09:00-18:00",
                        "openingHoursTueTime": "09:00-18:00",
                        "name": "Терминал Деловые Линии - Красногорск",
                        "addressLine1": "Пятницкое ш 7км владение 2",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-18:00",
                        "addressLine3": "",
                        "id": "328",
                        "selected": False,
                        "state": "",
                        "addressLine4": "владение 2",
                        "lsc": "LSC.2130",
                        "latitude": "55.8738059997559",
                        "longitude": "37.3353538513184",
                    },
                    {
                        "country": "RU",
                        "identifier": "369@BUSINESSLINES_RU",
                        "zipCode": "143009",
                        "openingHoursThuTime": "09:00-20:00",
                        "distance": 26.61,
                        "city": "Одинцово",
                        "openingHoursSatTime": "11:00-16:00",
                        "openingHoursWedTime": "09:00-20:00",
                        "openingHoursFriTime": "09:00-20:00",
                        "openingHoursTueTime": "09:00-20:00",
                        "name": "Терминал Деловые Линии - Одинцово",
                        "addressLine1": "ул. Западная 18",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-20:00",
                        "addressLine3": "",
                        "id": "369",
                        "selected": False,
                        "state": "",
                        "addressLine4": "18",
                        "lsc": "LSC.2175",
                        "latitude": "55.6721878051758",
                        "longitude": "37.2348556518555",
                    },
                    {
                        "country": "RU",
                        "identifier": "263@BUSINESSLINES_RU",
                        "zipCode": "140060",
                        "openingHoursThuTime": "09:00-18:00",
                        "distance": 27.26,
                        "city": "Томилино",
                        "openingHoursSatTime": "11:00-16:00",
                        "openingHoursWedTime": "09:00-18:00",
                        "openingHoursFriTime": "09:00-18:00",
                        "openingHoursTueTime": "09:00-18:00",
                        "name": "Терминал Деловые Линии - Томилино",
                        "addressLine1": "Московская обл., Люберецкий р-н., рп Октябрьский, ул. Ленина 47",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-18:00",
                        "addressLine3": "",
                        "id": "263",
                        "selected": False,
                        "state": "",
                        "addressLine4": "47",
                        "lsc": "LSC.2175",
                        "latitude": "55.6120452880859",
                        "longitude": "37.9766998291016",
                    },
                    {
                        "country": "RU",
                        "identifier": "278@BUSINESSLINES_RU",
                        "zipCode": "141206",
                        "openingHoursThuTime": "09:00-18:00",
                        "distance": 29.37,
                        "city": "Пушкино",
                        "openingHoursSatTime": "",
                        "openingHoursWedTime": "09:00-18:00",
                        "openingHoursFriTime": "09:00-18:00",
                        "openingHoursTueTime": "09:00-18:00",
                        "name": "Терминал Деловые Линии - Пушкино",
                        "addressLine1": "Кудринское ш 6",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-18:00",
                        "addressLine3": "",
                        "id": "278",
                        "selected": False,
                        "state": "",
                        "addressLine4": "6",
                        "lsc": "LSC.2175",
                        "latitude": "55.9927673339844",
                        "longitude": "37.8522453308105",
                    },
                    {
                        "country": "RU",
                        "identifier": "250@BUSINESSLINES_RU",
                        "zipCode": "142101",
                        "openingHoursThuTime": "09:00-20:00",
                        "distance": 33.11,
                        "city": "Подольск",
                        "openingHoursSatTime": "11:00-16:00",
                        "openingHoursWedTime": "09:00-20:00",
                        "openingHoursFriTime": "09:00-20:00",
                        "openingHoursTueTime": "09:00-20:00",
                        "name": "Терминал Деловые Линии - Подольск",
                        "addressLine1": "Нефтебазовский проезд 8",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-20:00",
                        "addressLine3": "",
                        "id": "250",
                        "selected": False,
                        "state": "",
                        "addressLine4": "8",
                        "lsc": "LSC.2175",
                        "latitude": "55.4638862609863",
                        "longitude": "37.5762405395508",
                    },
                    {
                        "country": "RU",
                        "identifier": "306@BUSINESSLINES_RU",
                        "zipCode": "124460",
                        "openingHoursThuTime": "09:00-18:00",
                        "distance": 38.75,
                        "city": "Зеленоград",
                        "openingHoursSatTime": "",
                        "openingHoursWedTime": "09:00-18:00",
                        "openingHoursFriTime": "09:00-18:00",
                        "openingHoursTueTime": "09:00-18:00",
                        "name": "Терминал Деловые Линии - Зеленоград",
                        "addressLine1": "2-ой Западный проезд, 1 стр. 2",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-18:00",
                        "addressLine3": "",
                        "id": "306",
                        "selected": False,
                        "state": "",
                        "addressLine4": "стр. 2",
                        "lsc": "LSC.2175",
                        "latitude": "56.0069770812988",
                        "longitude": "37.1918678283691",
                    },
                    {
                        "country": "RU",
                        "identifier": "261@BUSINESSLINES_RU",
                        "zipCode": "142400",
                        "openingHoursThuTime": "09:00-18:00",
                        "distance": 50.7,
                        "city": "Ногинск",
                        "openingHoursSatTime": "11:00-16:00",
                        "openingHoursWedTime": "09:00-18:00",
                        "openingHoursFriTime": "09:00-18:00",
                        "openingHoursTueTime": "09:00-18:00",
                        "name": "Терминал Деловые Линии - Ногинск",
                        "addressLine1": "Электростальское ш 1а",
                        "openingHoursSunTime": "",
                        "addressLine2": "",
                        "openingHoursMonTime": "09:00-18:00",
                        "addressLine3": "",
                        "id": "261",
                        "selected": False,
                        "state": "",
                        "addressLine4": "1а",
                        "lsc": "LSC.2175",
                        "latitude": "55.8348846435547",
                        "longitude": "38.4298934936523",
                    },
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "283@BUSINESSLINES_RU",
                    "zipCode": "109316",
                    "openingHoursThuTime": "09:00-20:00",
                    "distance": 7.42,
                    "city": "Москва",
                    "openingHoursSatTime": "",
                    "openingHoursWedTime": "09:00-20:00",
                    "openingHoursFriTime": "09:00-20:00",
                    "openingHoursTueTime": "09:00-20:00",
                    "name": "Терминал Деловые Линии - Москва Восток",
                    "addressLine1": "Волгоградский пр-кт, 42 корпус 23",
                    "openingHoursSunTime": "",
                    "addressLine2": "",
                    "openingHoursMonTime": "09:00-20:00",
                    "addressLine3": "",
                    "id": "283",
                    "selected": True,
                    "state": "",
                    "addressLine4": "корпус 23",
                    "lsc": "LSC.2130",
                    "latitude": "55.7096977233887",
                    "longitude": "37.7078437805176",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "f49784f1-dd51-4c5f-b903-bc060936f305",
        "solutionId": "PUOP~5~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "PUOP",
        "servicePrice": {
            "amount": "799",
            "taxDetails": [
                {
                    "taxableAmount": "665.83",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "133.17",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 799,
            "exclTax": 665.83,
        },
        "price": None,
        "priceOverrideReference": 799,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.670Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "fd8efe04-f96b-4af0-bd3f-e8dbabe97d0a",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "CDC.032",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "799",
                    "taxDetails": [
                        {
                            "taxableAmount": "665.83",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "133.17",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 799,
                    "exclTax": 665.83,
                },
                "price": None,
                "priceOverrideReference": 799,
                "serviceItemId": "SGR40000852",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "PUOP~~~2",
                "timeWindows": [
                    {
                        "id": "8dfbbd0d-033f-47af-9727-10b8013b09fb",
                        "fromDateTime": "2021-11-19T15:00:00.000",
                        "toDateTime": "2021-11-19T22:00:00.000",
                        "resourcePoolId": "Lhs14KLoVUKa7BCxAVQ0KQ==",
                        "node": "LSC.2183",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-19T15:00:00",
                        "endTime": "2021-11-19T22:00:00",
                        "slotAttributeGroup": "PUOP~5~STANDARD~~~PUOP~~~2~2183",
                        "tspID": "50150",
                        "tspName": None,
                    }
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "8dfbbd0d-033f-47af-9727-10b8013b09fb",
                    "fromDateTime": "2021-11-19T15:00:00.000",
                    "toDateTime": "2021-11-19T22:00:00.000",
                    "resourcePoolId": "Lhs14KLoVUKa7BCxAVQ0KQ==",
                    "node": "LSC.2183",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-19T15:00:00",
                    "endTime": "2021-11-19T22:00:00",
                    "slotAttributeGroup": "PUOP~5~STANDARD~~~PUOP~~~2~2183",
                    "tspID": "50150",
                    "tspName": None,
                },
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "Икеа Сити в ТРЦ Мозайка@IKEA_RU",
                        "zipCode": "115193",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 6.29,
                        "city": "Москва",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА Сити в ТРЦ Мозайка",
                        "addressLine1": "7-я Кожуховская улица",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "Икеа Сити в ТРЦ Мозайка",
                        "selected": True,
                        "state": "",
                        "addressLine4": "9",
                        "lsc": "LSC.2183",
                        "latitude": "55.7094459533691",
                        "longitude": "37.6749038696289",
                    },
                    {
                        "country": "RU",
                        "identifier": "Икеа Сити в ТРЦ Авиапарк (Ходынское Поле)@IKEA_RU",
                        "zipCode": "125252",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 6.86,
                        "city": "Москва",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА Сити в ТРЦ Авиапарк",
                        "addressLine1": "Ходынский бульвар",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "Икеа Сити в ТРЦ Авиапарк (Ходынское Поле)",
                        "selected": False,
                        "state": "",
                        "addressLine4": "4",
                        "lsc": "LSC.2248",
                        "latitude": "55.7848472595215",
                        "longitude": "37.5297203063965",
                    },
                    {
                        "country": "RU",
                        "identifier": "Икеа Сити в ТРЦ Европолис (Ростокино)@IKEA_RU",
                        "zipCode": "129226",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 8.49,
                        "city": "Москва",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА Сити в ТРЦ Европолис",
                        "addressLine1": "Проспект Мира",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "Икеа Сити в ТРЦ Европолис (Ростокино)",
                        "selected": False,
                        "state": "",
                        "addressLine4": "211, корп. 2",
                        "lsc": "LSC.2310",
                        "latitude": "55.8349304199219",
                        "longitude": "37.6557960510254",
                    },
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "Икеа Сити в ТРЦ Мозайка@IKEA_RU",
                    "zipCode": "115193",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 6.29,
                    "city": "Москва",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "ИКЕА Сити в ТРЦ Мозайка",
                    "addressLine1": "7-я Кожуховская улица",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "Икеа Сити в ТРЦ Мозайка",
                    "selected": True,
                    "state": "",
                    "addressLine4": "9",
                    "lsc": "LSC.2183",
                    "latitude": "55.7094459533691",
                    "longitude": "37.6749038696289",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "5a09bf14-5dc1-42c1-88a3-d31ccb6e4fdd",
        "solutionId": "CCS~3~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": {
            "amount": "799",
            "taxDetails": [
                {
                    "taxableAmount": "665.83",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "133.17",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 799,
            "exclTax": 665.83,
        },
        "price": None,
        "priceOverrideReference": 799,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.672Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "03122c6a-5695-4228-8bfc-3ac7bb5f1e1c",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.335",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.335",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "STO.335",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "STO.335",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "799",
                    "taxDetails": [
                        {
                            "taxableAmount": "665.83",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "133.17",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 799,
                    "exclTax": 665.83,
                },
                "price": None,
                "priceOverrideReference": 799,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~2",
                "timeWindows": [
                    {
                        "id": "b1c4b14c-aacb-4134-bd0e-10df013b63d8",
                        "fromDateTime": "2021-11-21T17:00:00.000",
                        "toDateTime": "2021-11-21T18:00:00.000",
                        "resourcePoolId": "qLLLPu0t+kmB/BDfAPHobw==",
                        "node": "STO.335",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-21T17:00:00",
                        "endTime": "2021-11-21T18:00:00",
                        "slotAttributeGroup": "CCS~3~STANDARD~~~CCS~~~2~335",
                        "tspID": "32217",
                        "tspName": None,
                    }
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "b1c4b14c-aacb-4134-bd0e-10df013b63d8",
                    "fromDateTime": "2021-11-21T17:00:00.000",
                    "toDateTime": "2021-11-21T18:00:00.000",
                    "resourcePoolId": "qLLLPu0t+kmB/BDfAPHobw==",
                    "node": "STO.335",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-21T17:00:00",
                    "endTime": "2021-11-21T18:00:00",
                    "slotAttributeGroup": "CCS~3~STANDARD~~~CCS~~~2~335",
                    "tspID": "32217",
                    "tspName": None,
                },
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "ИКЕА Химки@IKEASTORE_RU",
                        "zipCode": "141400",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 21.99,
                        "city": "Химки",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "Магазин ИКЕА",
                        "addressLine1": "м/р-н ИКЕА",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "ИКЕА Химки",
                        "selected": True,
                        "state": "",
                        "addressLine4": "корпус 1",
                        "lsc": "STO.335",
                        "latitude": "55.9101486206055",
                        "longitude": "37.4010047912598",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "ИКЕА Химки@IKEASTORE_RU",
                    "zipCode": "141400",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 21.99,
                    "city": "Химки",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "Магазин ИКЕА",
                    "addressLine1": "м/р-н ИКЕА",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "ИКЕА Химки",
                    "selected": True,
                    "state": "",
                    "addressLine4": "корпус 1",
                    "lsc": "STO.335",
                    "latitude": "55.9101486206055",
                    "longitude": "37.4010047912598",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "9761048c-6a6a-4ce6-bb68-47cc05936462",
        "solutionId": "CCS~4~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": {
            "amount": "799",
            "taxDetails": [
                {
                    "taxableAmount": "665.83",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "133.17",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 799,
            "exclTax": 665.83,
        },
        "price": None,
        "priceOverrideReference": 799,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.675Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "3077643c-8eba-4fbb-bbb9-0a59a52145bd",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.344",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.344",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "STO.344",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "STO.344",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "799",
                    "taxDetails": [
                        {
                            "taxableAmount": "665.83",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "133.17",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 799,
                    "exclTax": 665.83,
                },
                "price": None,
                "priceOverrideReference": 799,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~4",
                "timeWindows": [
                    {
                        "id": "2b0dd4e8-18c1-4e2d-80f8-108f013b27e8",
                        "fromDateTime": "2021-11-20T18:00:00.000",
                        "toDateTime": "2021-11-20T20:00:00.000",
                        "resourcePoolId": "judeyfbwL0Cgjg9+AR8OeA==",
                        "node": "STO.344",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-20T18:00:00",
                        "endTime": "2021-11-20T20:00:00",
                        "slotAttributeGroup": "CCS~4~STANDARD~~~CCS~~~4~344",
                        "tspID": "32217",
                        "tspName": None,
                    }
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "2b0dd4e8-18c1-4e2d-80f8-108f013b27e8",
                    "fromDateTime": "2021-11-20T18:00:00.000",
                    "toDateTime": "2021-11-20T20:00:00.000",
                    "resourcePoolId": "judeyfbwL0Cgjg9+AR8OeA==",
                    "node": "STO.344",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-20T18:00:00",
                    "endTime": "2021-11-20T20:00:00",
                    "slotAttributeGroup": "CCS~4~STANDARD~~~CCS~~~4~344",
                    "tspID": "32217",
                    "tspName": None,
                },
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "ИКЕА Белая Дача@IKEASTORE_RU",
                        "zipCode": "140089",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 17.68,
                        "city": "Котельники",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "Мега Белая Дача. Шоппинг порт, столб б11",
                        "addressLine1": "1-ый Покровский проезд",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "ИКЕА Белая Дача",
                        "selected": True,
                        "state": "",
                        "addressLine4": "4",
                        "lsc": "STO.344",
                        "latitude": "55.6576843261719",
                        "longitude": "37.8459892272949",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "ИКЕА Белая Дача@IKEASTORE_RU",
                    "zipCode": "140089",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 17.68,
                    "city": "Котельники",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "Мега Белая Дача. Шоппинг порт, столб б11",
                    "addressLine1": "1-ый Покровский проезд",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "ИКЕА Белая Дача",
                    "selected": True,
                    "state": "",
                    "addressLine4": "4",
                    "lsc": "STO.344",
                    "latitude": "55.6576843261719",
                    "longitude": "37.8459892272949",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "9760ef4c-2997-44a3-8d08-7260908dbfc3",
        "solutionId": "CCS~1~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": {
            "amount": "799",
            "taxDetails": [
                {
                    "taxableAmount": "665.83",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "133.17",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 799,
            "exclTax": 665.83,
        },
        "price": None,
        "priceOverrideReference": 799,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.676Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "ffb024b6-ec87-46ff-abae-a3d90e3889d4",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.336",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.336",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "STO.336",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "STO.336",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "799",
                    "taxDetails": [
                        {
                            "taxableAmount": "665.83",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "133.17",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 799,
                    "exclTax": 665.83,
                },
                "price": None,
                "priceOverrideReference": 799,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~6",
                "timeWindows": [
                    {
                        "id": "ea411139-9924-49dd-afa0-10dc013c25b3",
                        "fromDateTime": "2021-11-19T17:00:00.000",
                        "toDateTime": "2021-11-19T18:00:00.000",
                        "resourcePoolId": "+4MU/ut8E0uZgxDcARcMsg==",
                        "node": "STO.336",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-19T17:00:00",
                        "endTime": "2021-11-19T18:00:00",
                        "slotAttributeGroup": "CCS~1~STANDARD~~~CCS~~~6~336",
                        "tspID": "32217",
                        "tspName": None,
                    }
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "ea411139-9924-49dd-afa0-10dc013c25b3",
                    "fromDateTime": "2021-11-19T17:00:00.000",
                    "toDateTime": "2021-11-19T18:00:00.000",
                    "resourcePoolId": "+4MU/ut8E0uZgxDcARcMsg==",
                    "node": "STO.336",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-19T17:00:00",
                    "endTime": "2021-11-19T18:00:00",
                    "slotAttributeGroup": "CCS~1~STANDARD~~~CCS~~~6~336",
                    "tspID": "32217",
                    "tspName": None,
                },
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "ИКЕА Тёплый Стан@IKEASTORE_RU",
                        "zipCode": "108814",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 19.43,
                        "city": "Тёплый Стан",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА Тёплый Стан",
                        "addressLine1": "Калужское шоссе, 21-й километр",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "ИКЕА Тёплый Стан",
                        "selected": True,
                        "state": "",
                        "addressLine4": "строение 1",
                        "lsc": "STO.336",
                        "latitude": "55.6042327880859",
                        "longitude": "37.4897842407227",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "ИКЕА Тёплый Стан@IKEASTORE_RU",
                    "zipCode": "108814",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 19.43,
                    "city": "Тёплый Стан",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "ИКЕА Тёплый Стан",
                    "addressLine1": "Калужское шоссе, 21-й километр",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "ИКЕА Тёплый Стан",
                    "selected": True,
                    "state": "",
                    "addressLine4": "строение 1",
                    "lsc": "STO.336",
                    "latitude": "55.6042327880859",
                    "longitude": "37.4897842407227",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "0e925792-a9c6-48ea-bc88-5cebc56df073",
        "solutionId": "CCS~2~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": {
            "amount": "799",
            "taxDetails": [
                {
                    "taxableAmount": "665.83",
                    "taxPercentage": "20",
                    "taxCode": "0",
                    "taxAmount": "133.17",
                    "taxType": "VAT",
                }
            ],
            "currencyCode": "RUB",
            "inclTax": 799,
            "exclTax": 665.83,
        },
        "price": None,
        "priceOverrideReference": 799,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.679Z",
        "unavailableItems": None,
        "unavailableLines": None,
        "deliveries": [
            {
                "id": "986c7c7e-0766-48bc-8bee-11b7a07d5058",
                "type": "TRUCK",
                "deliveryItems": [
                    {
                        "id": "5f57144d-e2af-4c45-8c8b-7b444a44b75a",
                        "itemNo": "00383881",
                        "itemType": "ART",
                        "itemId": "5",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.437",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "fd14216e-c697-4f8c-b8f2-4ef40a4cf8d0",
                        "itemNo": "40490959",
                        "itemType": "ART",
                        "itemId": "4",
                        "parentId": "69435788",
                        "quantity": "6",
                        "shipNode": "STO.437",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "00e03392-5a64-434a-8798-38eb0f9ed8ad",
                        "itemNo": "70299474",
                        "itemType": "ART",
                        "itemId": "3",
                        "parentId": "69435788",
                        "quantity": "10",
                        "shipNode": "STO.437",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                    {
                        "id": "823edb8a-bb00-450e-86a2-d307fc9daa56",
                        "itemNo": "00299340",
                        "itemType": "ART",
                        "itemId": "2",
                        "parentId": "69435788",
                        "quantity": "2",
                        "shipNode": "STO.437",
                        "externalRefId": None,
                        "exceptionalQty": False,
                    },
                ],
                "deliveryPrice": {
                    "amount": "799",
                    "taxDetails": [
                        {
                            "taxableAmount": "665.83",
                            "taxPercentage": "20",
                            "taxCode": "0",
                            "taxAmount": "133.17",
                            "taxType": "VAT",
                        }
                    ],
                    "currencyCode": "RUB",
                    "inclTax": 799,
                    "exclTax": 665.83,
                },
                "price": None,
                "priceOverrideReference": 799,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~8",
                "timeWindows": [
                    {
                        "id": "544a3159-d3c9-4ef8-b8ac-10bb013c7674",
                        "fromDateTime": "2021-11-20T18:00:00.000",
                        "toDateTime": "2021-11-20T19:00:00.000",
                        "resourcePoolId": "/Ld7xt+M30evURC7AJcpxQ==",
                        "node": "STO.437",
                        "selected": True,
                        "timeZone": "Europe/Moscow",
                        "pageNum": None,
                        "startTime": "2021-11-20T18:00:00",
                        "endTime": "2021-11-20T19:00:00",
                        "slotAttributeGroup": "CCS~2~STANDARD~~~CCS~~~8~437",
                        "tspID": "32217",
                        "tspName": None,
                    }
                ],
                "timeWindowsStartDate": None,
                "selectedTimeWindow": {
                    "id": "544a3159-d3c9-4ef8-b8ac-10bb013c7674",
                    "fromDateTime": "2021-11-20T18:00:00.000",
                    "toDateTime": "2021-11-20T19:00:00.000",
                    "resourcePoolId": "/Ld7xt+M30evURC7AJcpxQ==",
                    "node": "STO.437",
                    "selected": True,
                    "timeZone": "Europe/Moscow",
                    "pageNum": None,
                    "startTime": "2021-11-20T18:00:00",
                    "endTime": "2021-11-20T19:00:00",
                    "slotAttributeGroup": "CCS~2~STANDARD~~~CCS~~~8~437",
                    "tspID": "32217",
                    "tspName": None,
                },
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "ИКЕА Нижний Новгород@IKEASTORE_RU",
                        "zipCode": "607686",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 403.03,
                        "city": "Нижний Новгород",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА Нижний Новгород",
                        "addressLine1": "с. Федяково",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "ИКЕА Нижний Новгород",
                        "selected": True,
                        "state": "",
                        "addressLine4": "",
                        "lsc": "STO.437",
                        "latitude": "56.2291946411133",
                        "longitude": "44.0568695068359",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "ИКЕА Нижний Новгород@IKEASTORE_RU",
                    "zipCode": "607686",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 403.03,
                    "city": "Нижний Новгород",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "ИКЕА Нижний Новгород",
                    "addressLine1": "с. Федяково",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "ИКЕА Нижний Новгород",
                    "selected": True,
                    "state": "",
                    "addressLine4": "",
                    "lsc": "STO.437",
                    "latitude": "56.2291946411133",
                    "longitude": "44.0568695068359",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "FULL",
    },
    {
        "id": "5a492ecc-238b-4697-9987-5bb30af046bc",
        "solutionId": "CCS~1005~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": None,
        "price": None,
        "priceOverrideReference": None,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.680Z",
        "unavailableItems": [
            {
                "id": "1",
                "itemNo": "69435788",
                "lineId": 1,
                "type": "SPR",
                "requiredQuantity": 1,
                "availableQuantity": 0,
                "unavailabilityReason": "OP_NOT_ENOUGH_PROD_CHOICES",
                "quantityType": None,
            },
            {
                "id": "1",
                "itemNo": "69435788",
                "lineId": None,
                "type": "SPR",
                "requiredQuantity": 1,
                "availableQuantity": 0,
                "unavailabilityReason": "OP_NOT_ENOUGH_PROD_CHOICES",
                "quantityType": None,
            },
        ],
        "unavailableLines": [
            {
                "unavailableQty": "1.0",
                "itemLineId": "1",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "2.0",
                "itemLineId": "2",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "10.0",
                "itemLineId": "3",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "6.0",
                "itemLineId": "4",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "6.0",
                "itemLineId": "5",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
        ],
        "deliveries": [
            {
                "id": "7862873f-ac9b-4f56-b9e4-6a5a1710f14e",
                "type": "TRUCK",
                "deliveryItems": None,
                "deliveryPrice": None,
                "price": None,
                "priceOverrideReference": None,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~1005",
                "timeWindows": None,
                "timeWindowsStartDate": None,
                "selectedTimeWindow": None,
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "Икеа Мозайка (C&C)@IKEASTORE_RU",
                        "zipCode": "115193",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 6.29,
                        "city": "Москва",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА сити в ТРЦ Мозаика экспресс",
                        "addressLine1": "7-я Кожуховская улица",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "Икеа Мозайка (C&C)",
                        "selected": True,
                        "state": "",
                        "addressLine4": "9",
                        "lsc": "STO.616",
                        "latitude": "55.7094459533691",
                        "longitude": "37.6749038696289",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "Икеа Мозайка (C&C)@IKEASTORE_RU",
                    "zipCode": "115193",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 6.29,
                    "city": "Москва",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "ИКЕА сити в ТРЦ Мозаика экспресс",
                    "addressLine1": "7-я Кожуховская улица",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "Икеа Мозайка (C&C)",
                    "selected": True,
                    "state": "",
                    "addressLine4": "9",
                    "lsc": "STO.616",
                    "latitude": "55.7094459533691",
                    "longitude": "37.6749038696289",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "NONE",
    },
    {
        "id": "8d9f796a-d166-491d-8848-aded7ea7bd1a",
        "solutionId": "CCS~1006~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": None,
        "price": None,
        "priceOverrideReference": None,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.680Z",
        "unavailableItems": [
            {
                "id": "1",
                "itemNo": "69435788",
                "lineId": 1,
                "type": "SPR",
                "requiredQuantity": 1,
                "availableQuantity": 0,
                "unavailabilityReason": "OP_NOT_ENOUGH_PROD_CHOICES",
                "quantityType": None,
            },
            {
                "id": "1",
                "itemNo": "69435788",
                "lineId": None,
                "type": "SPR",
                "requiredQuantity": 1,
                "availableQuantity": 0,
                "unavailabilityReason": "OP_NOT_ENOUGH_PROD_CHOICES",
                "quantityType": None,
            },
        ],
        "unavailableLines": [
            {
                "unavailableQty": "1.0",
                "itemLineId": "1",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "2.0",
                "itemLineId": "2",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "10.0",
                "itemLineId": "3",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "6.0",
                "itemLineId": "4",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "6.0",
                "itemLineId": "5",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
        ],
        "deliveries": [
            {
                "id": "ab2d80d5-9040-484a-9cac-cf737935abcf",
                "type": "TRUCK",
                "deliveryItems": None,
                "deliveryPrice": None,
                "price": None,
                "priceOverrideReference": None,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~1006",
                "timeWindows": None,
                "timeWindowsStartDate": None,
                "selectedTimeWindow": None,
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "Икеа Ходынское Поле (C&C)@IKEASTORE_RU",
                        "zipCode": "125252",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 6.86,
                        "city": "Москва",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА сити в ТРЦ Авиапарк экспресс",
                        "addressLine1": "Ходынский бульвар",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "Икеа Ходынское Поле (C&C)",
                        "selected": True,
                        "state": "",
                        "addressLine4": "4",
                        "lsc": "STO.609",
                        "latitude": "55.7848472595215",
                        "longitude": "37.5297203063965",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "Икеа Ходынское Поле (C&C)@IKEASTORE_RU",
                    "zipCode": "125252",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 6.86,
                    "city": "Москва",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "ИКЕА сити в ТРЦ Авиапарк экспресс",
                    "addressLine1": "Ходынский бульвар",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "Икеа Ходынское Поле (C&C)",
                    "selected": True,
                    "state": "",
                    "addressLine4": "4",
                    "lsc": "STO.609",
                    "latitude": "55.7848472595215",
                    "longitude": "37.5297203063965",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "NONE",
    },
    {
        "id": "9eda4d34-8716-4286-96fa-e23fa3c842b8",
        "solutionId": "CCS~1007~STANDARD",
        "deliveryArrangementId": "20211117170040792103894",
        "fulfillmentMethodType": "CLICK_COLLECT_STORE",
        "servicePrice": None,
        "price": None,
        "priceOverrideReference": None,
        "servicetype": "STANDARD",
        "expiryTime": "2021-11-17T17:30:43.680Z",
        "unavailableItems": [
            {
                "id": "1",
                "itemNo": "69435788",
                "lineId": 1,
                "type": "SPR",
                "requiredQuantity": 1,
                "availableQuantity": 0,
                "unavailabilityReason": "OP_NOT_ENOUGH_PROD_CHOICES",
                "quantityType": None,
            },
            {
                "id": "1",
                "itemNo": "69435788",
                "lineId": None,
                "type": "SPR",
                "requiredQuantity": 1,
                "availableQuantity": 0,
                "unavailabilityReason": "OP_NOT_ENOUGH_PROD_CHOICES",
                "quantityType": None,
            },
        ],
        "unavailableLines": [
            {
                "unavailableQty": "1.0",
                "itemLineId": "1",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "2.0",
                "itemLineId": "2",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "10.0",
                "itemLineId": "3",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "6.0",
                "itemLineId": "4",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
            {
                "unavailableQty": "6.0",
                "itemLineId": "5",
                "unavailableReasonCode": "OP_NOT_ENOUGH_PROD_CHOICES",
            },
        ],
        "deliveries": [
            {
                "id": "6cfec341-0293-4845-a3e2-2c5b0560accb",
                "type": "TRUCK",
                "deliveryItems": None,
                "deliveryPrice": None,
                "price": None,
                "priceOverrideReference": None,
                "serviceItemId": "SGR50000875",
                "unitOfMeasure": "ORDERS",
                "shipNode": None,
                "fulfillmentDeliveryId": "CCS~~~1007",
                "timeWindows": None,
                "timeWindowsStartDate": None,
                "selectedTimeWindow": None,
                "pickUpPoints": [
                    {
                        "country": "RU",
                        "identifier": "Икеа Ростокино (C&C)@IKEASTORE_RU",
                        "zipCode": "129226",
                        "openingHoursThuTime": "10:00-22:00",
                        "distance": 8.49,
                        "city": "Москва",
                        "openingHoursSatTime": "10:00-22:00",
                        "openingHoursWedTime": "10:00-22:00",
                        "openingHoursFriTime": "10:00-22:00",
                        "openingHoursTueTime": "10:00-22:00",
                        "name": "ИКЕА сити в ТРЦ Европолис экспресс",
                        "addressLine1": "Проспект Мира",
                        "openingHoursSunTime": "10:00-22:00",
                        "addressLine2": "",
                        "openingHoursMonTime": "10:00-22:00",
                        "addressLine3": "",
                        "id": "Икеа Ростокино (C&C)",
                        "selected": True,
                        "state": "",
                        "addressLine4": "211, корп. 2",
                        "lsc": "STO.643",
                        "latitude": "55.8349304199219",
                        "longitude": "37.6557960510254",
                    }
                ],
                "selectedPickupPoint": {
                    "country": "RU",
                    "identifier": "Икеа Ростокино (C&C)@IKEASTORE_RU",
                    "zipCode": "129226",
                    "openingHoursThuTime": "10:00-22:00",
                    "distance": 8.49,
                    "city": "Москва",
                    "openingHoursSatTime": "10:00-22:00",
                    "openingHoursWedTime": "10:00-22:00",
                    "openingHoursFriTime": "10:00-22:00",
                    "openingHoursTueTime": "10:00-22:00",
                    "name": "ИКЕА сити в ТРЦ Европолис экспресс",
                    "addressLine1": "Проспект Мира",
                    "openingHoursSunTime": "10:00-22:00",
                    "addressLine2": "",
                    "openingHoursMonTime": "10:00-22:00",
                    "addressLine3": "",
                    "id": "Икеа Ростокино (C&C)",
                    "selected": True,
                    "state": "",
                    "addressLine4": "211, корп. 2",
                    "lsc": "STO.643",
                    "latitude": "55.8349304199219",
                    "longitude": "37.6557960510254",
                },
                "maxTWPageNum": None,
                "rangeOfDays": False,
                "exceptionalQty": False,
                "exceptionalVolume": False,
                "multifetchTimeWindows": False,
            }
        ],
        "selected": False,
        "errorMessage": None,
        "estimatedDeliveryDaysMin": None,
        "estimatedDeliveryDaysMax": None,
        "deliveryServiceCheckSum": None,
        "displayWheelchair": False,
        "itemsAvailabilityStatus": "NONE",
    },
]


def test_main():
    list(main(test_data))
